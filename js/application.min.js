(function(){var t,n,e,r,i,a,o,u,s,c,l,f,h,p,d,m,v,g,w,D,b,y,T,x;t=/\[(.+?)\]\((.+?)\)/g,n=500,e=.8,r=45,D=function(){return i(),w(),x(),b()},i=function(){var t,n;return t=$("#profiles li").width(),n=Math.round(t*e),$("#profiles i").css({"font-size":n+"px"})},w=function(){return $(document).on("click","a.mailto",function(t){var n;return t.preventDefault(),n=$(t.target).html(),window.location.assign(o(n))})},o=function(t){var n;return n=t.replace(" [at] ","@").replace(" [dot] ","."),"mailto:"+n},x=function(){return $("a.navbar-brand, ul.nav li a").on("click",function(t){var e,i;return t.preventDefault(),e=t.target.hash,i=$(e).offset()?$(e).offset().top-r:0,$("body, html").animate({scrollTop:i},n,function(){return a(e)})})},a=function(t){return history.pushState&&t?history.pushState(null,null,t):window.location.hash=t},b=function(){var t,n,e,r,i;for(r=["projects","studies"],i=[],n=0,e=r.length;e>n;n++)t=r[n],i.push(function(t){return v(t).then(function(n){return T({container:$("#"+t),events:n.map(function(t){return t.html=g(t.html),t.time_frame=new TimeFrame(t.from,t.to||new Date),t})})})}(t));return i},v=function(t){return $.get("/data/"+t+".json")},g=function(n){return n.replace(t,function(t,n,e){return'<a href="'+e+'" target="_blank">'+n+"</a>"})},T=function(t){var n;return n=u({events:t.events.sort(function(t,n){return y(n)-y(t)})}),t.container.children("div.ajax").html(n)},y=function(t){var n,e,r;return t.from?(n=t.from.match(/\w+/g),e=n[0]-1,r=n[1],new Date(r,e).getTime()):Number.MAX_VALUE},u=function(t){var n,e,r,i,a,o;for(r=$("<ul>",{"class":"timeline"}),o=t.events,e=i=0,a=o.length;a>i;e=++i)n=o[e],r.append(s({event:n,index:e}));return r},s=function(t){return $("<li>",t.index.isEven()?void 0:{"class":"timeline-inverted"}).append(c(t.event)).append(h(t.event))},c=function(t){return $("<div>",{"class":"timeline-badge"}).append($("<i>",{"class":t.icon}))},h=function(t){return $("<div>",{"class":"timeline-panel"}).append(f(t)).append(l(t))},f=function(t){return $("<div>",{"class":"timeline-heading"}).append(m(t)).append(d(t)).append(t.technologies?p(t):void 0)},m=function(t){return $("<h3>",{"class":"timeline-title",text:t.title})},d=function(t){var n,e;return n=[t.from,t.to||"present"],e='<i class="fa fa-clock-o"></i>&nbsp;'+n.join(" - ")+" ("+t.time_frame.verbalize()+")",$("<p>",{"class":"text-muted",html:e})},p=function(t){return $("<p>",{html:'<i class="fa fa-flask"></i>&nbsp;'+t.technologies})},l=function(t){return $("<div>",{"class":"timeline-body",html:t.html})},$(document).ready(D),$(window).on("resize",i)}).call(this),function(){window.TimeFrame=function(){function t(t,n){this.start=this.convertToDate(t),this.end=this.convertToDate(n)}var n,e;return n=30.4375,e=/(\d{2})\/(\d{4})/,t.prototype.convertToDate=function(t){return t instanceof Date?t:this.parseDate(t)},t.prototype.parseDate=function(t){var n,r,i;return n=t.match(e),r=parseInt(n[1]),i=parseInt(n[2]),new Date(i,r-1)},t.prototype.length=function(){var t,e,r;return r=new Date(this.start.getFullYear(),this.start.getMonth(),1),e=new Date(this.end.getFullYear(),this.end.getMonth()+1,0),t=e-r,Math.round(t/1e3/60/60/24/n)},t.prototype.verbalize=function(){var t,n,e;return e=Math.floor(this.length()/12),t=this.length()%12,n=[],1===e&&n.push("1 year"),e>1&&n.push(e+" years"),1===t&&n.push("1 month"),t>1&&n.push(t+" months"),n.join(", ")},t}()}.call(this),function(){Number.prototype.isEven=function(){return this%2===0}}.call(this);