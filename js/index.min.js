Number.prototype.isEven=function(){return this%2===0};(function(){var e=/\[(.+?)\]\((.+?)\)/g;var d=500;var i="glyphicon glyphicon-ok";var l=0.8;var c=function(){var p=$("#profiles li").width();var o=l*p+"px";$("#profiles i").css({"font-size":o})};var h=function(o){var p=$("<ul />",{"class":"timeline"});_.each(o.events,function(r,q){m({event:r,exclude:o.exclude,index:q}).appendTo(p)});return p};var m=function(q){var r=$("<li />",{"class":q.index.isEven()?null:"timeline-inverted"});var p=$("<div />",{"class":"timeline-badge"}).appendTo(r);$("<i />",{"class":q.event.icon||i}).appendTo(p);var o=$("<div />",{"class":"timeline-panel"}).appendTo(r);var s=$("<div />",{"class":"timeline-heading"}).appendTo(o);$("<h3 />",{"class":"timeline-title",text:q.event.title}).appendTo(s);$("<p />",{"class":"text-muted",html:'<i class="fa fa-clock-o"></i>&nbsp;'+(q.event.from?q.event.from+" - ":"")+(q.event.to||"present")}).appendTo(s);if(!_.contains(q.exclude,"technologies")){$("<p />",{html:'<i class="fa fa-rocket"></i>&nbsp;'+q.event.technologies}).appendTo(s)}$("<div />",{"class":"timeline-body",html:q.event.html}).appendTo(o);return r};var a=function(){_.each(["projects","studies"],function(p,o){$.ajax({dataType:"json",success:function(q){g({container:$("#"+p),events:j(q),exclude:o===0?[]:["technologies"]})},url:p+".json"})})};var f=function(){c();a();b();n()};var b=function(){$("a.mailto").on("click",function(o){o.preventDefault();email_address=$(this).html().replace(" [at] ","@").replace(" [dot] ",".");window.location.assign("mailto:"+email_address)})};var j=function(o){return _.map(o,function(p){return _.extend(p,{html:p.html.replace(e,function(r,s,q){return'<a href="'+q+'" target="_blank">'+s+"</a>"})})})};var k=function(p){if(p.from){var q=p.from.match(/\w+/g);var r=q[0]-1;var o=q[1];return new Date(o,r).getTime()}else{return Number.MAX_VALUE}};var g=function(o){var p=h({events:_.sortBy(o.events,function(q){return -k(q)}),exclude:o.exclude});o.container.children("div.ajax").html(p)};var n=function(){$("a.navbar-brand, ul.nav li a").on("click",function(o){o.preventDefault();var p=this.hash;$("body, html").animate({scrollTop:$(p).offset()?$(p).offset().top:0},d,function(){window.location.hash=p})})};$(function(){f();$(window).resize(c)})})();